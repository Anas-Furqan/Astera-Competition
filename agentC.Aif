<?xml version="1.0" encoding="utf-8"?>
<AiFlowDocument xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" ProductVersion="12.1.0.744">
  <IsFolder>false</IsFolder>
  <Id>0</Id>
  <IsNewRecord>false</IsNewRecord>
  <Name>C:\Users\THIS PC\Documents\GitHub\Astera-Competition\agentC.Aif</Name>
  <Description />
  <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
  <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
  <Views />
  <AutoLayoutOnNextLoad>false</AutoLayoutOnNextLoad>
  <ExplicitAnchors />
  <Actions>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>a35009a0-9e4f-41a3-a382-4c15be449cc5</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>a35009a0-9e4f-41a3-a382-4c15be449cc5</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiStart</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>39</Height>
            <Width>160</Width>
            <X>-419.35098</X>
            <Y>70.184235</Y>
            <IsExpanded>false</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>Start</Name>
      </ActionProperties>
      <AiFlowItemDataStart>
        <Name>Start</Name>
        <IsShared>false</IsShared>
        <PythonCode>def build_message(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; TemplateParams :  &#xD;
&#xD;
    Name = "Commodity Intelligence Engine Active" &#xD;
&#xD;
    return TemplateParams(Name) </PythonCode>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>Start</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>false</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>Start</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>false</IsReadOnly>
        </Layout>
        <Template>
          <DocumentDescription />
          <SystemPrompt />
          <UserPrompt />
          <UserPromptTemplateName />
          <TemplateType>Template</TemplateType>
          <UseClusterMasterPrompt>false</UseClusterMasterPrompt>
          <Llm>
            <Id>a3b398c4-7a48-47f0-a040-9585c70e7a63</Id>
            <StreamResponseToUser>false</StreamResponseToUser>
            <ReturnsStructuredOutput>false</ReturnsStructuredOutput>
            <OutputLayout IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Template</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </OutputLayout>
            <WorkingMemoryContextWindow>50</WorkingMemoryContextWindow>
            <MaxAgentCallDepth>5</MaxAgentCallDepth>
            <Name>CompletionLlm</Name>
            <Parameters>
              <Temperature>0.5</Temperature>
              <TopP>1</TopP>
              <MaxTokens>4096</MaxTokens>
              <Timeout>120</Timeout>
            </Parameters>
            <Memory>
              <IncludeUserContext>false</IncludeUserContext>
              <IncludeWorkingMemory>false</IncludeWorkingMemory>
              <IncludeParentsContext>false</IncludeParentsContext>
              <IncludeAncestralContext>false</IncludeAncestralContext>
              <LimitToolCallsInContext>false</LimitToolCallsInContext>
              <ToolCallLimit>10</ToolCallLimit>
            </Memory>
          </Llm>
          <FilePath />
          <Name>Template</Name>
          <Text>🌟 {AgentName}&#xD;
&#xD;
I am Agent C, specialized in real-time pricing for Gold, Silver, and other precious metals.&#xD;
&#xD;
Supported Symbols: XAU (Gold), XAG (Silver), XPT (Platinum), XPD (Palladium).&#xD;
&#xD;
Please enter the Symbol to fetch live market rates:</Text>
          <CanTemplateBeEmpty>true</CanTemplateBeEmpty>
          <Functions />
          <ReturnVariable>result</ReturnVariable>
          <PythonMethodName>run</PythonMethodName>
          <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
            <IsFolder>false</IsFolder>
            <Id>0</Id>
            <IsNewRecord>false</IsNewRecord>
            <Name>Template</Name>
            <Description />
            <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
            <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
            <IsSharedLayout>false</IsSharedLayout>
            <LayoutBuildingOptions>
              <RecordType>Record</RecordType>
              <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
              <LayoutBuildingProcess>Default</LayoutBuildingProcess>
            </LayoutBuildingOptions>
            <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
            <Fields />
            <Children />
            <Referenced />
            <ValidationRules />
            <IsReadOnly>false</IsReadOnly>
          </Layout>
        </Template>
      </AiFlowItemDataStart>
    </FlowDocumentItemAction>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>7f52584b-a4c9-4aae-b729-bfd0d60f1b5b</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>7f52584b-a4c9-4aae-b729-bfd0d60f1b5b</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiEnd</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>39</Height>
            <Width>160</Width>
            <X>798.45166</X>
            <Y>235.34595</Y>
            <IsExpanded>false</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>End</Name>
      </ActionProperties>
      <AiFlowItemDataEnd>
        <Name>End</Name>
        <IsShared>false</IsShared>
        <PythonCode>def build_message(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; TemplateParams :  &#xD;
&#xD;
&#xD;
    return TemplateParams() </PythonCode>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>End</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>false</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>End</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>false</IsReadOnly>
        </Layout>
        <Template>
          <DocumentDescription />
          <SystemPrompt />
          <UserPrompt />
          <UserPromptTemplateName />
          <TemplateType>Template</TemplateType>
          <UseClusterMasterPrompt>false</UseClusterMasterPrompt>
          <Llm>
            <Id>588db8a5-ae50-46dc-85e4-daa26dacf89b</Id>
            <StreamResponseToUser>false</StreamResponseToUser>
            <ReturnsStructuredOutput>false</ReturnsStructuredOutput>
            <OutputLayout IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Template</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </OutputLayout>
            <WorkingMemoryContextWindow>50</WorkingMemoryContextWindow>
            <MaxAgentCallDepth>5</MaxAgentCallDepth>
            <Name>CompletionLlm</Name>
            <Parameters>
              <Temperature>0.5</Temperature>
              <TopP>1</TopP>
              <MaxTokens>4096</MaxTokens>
              <Timeout>120</Timeout>
            </Parameters>
            <Memory>
              <IncludeUserContext>false</IncludeUserContext>
              <IncludeWorkingMemory>false</IncludeWorkingMemory>
              <IncludeParentsContext>false</IncludeParentsContext>
              <IncludeAncestralContext>false</IncludeAncestralContext>
              <LimitToolCallsInContext>false</LimitToolCallsInContext>
              <ToolCallLimit>10</ToolCallLimit>
            </Memory>
          </Llm>
          <FilePath />
          <Name>Template</Name>
          <Text>✅ Analysis Task Completed.&#xD;
&#xD;
Thank you for using the Multi-Agent Intelligence Suite.&#xD;
&#xD;
🔄 Ready for more? You can try another option (1, 2, 3, or 4) with a new ticker/symbol to continue your research or "end" to end the conversation.</Text>
          <CanTemplateBeEmpty>true</CanTemplateBeEmpty>
          <Functions />
          <ReturnVariable>result</ReturnVariable>
          <PythonMethodName>run</PythonMethodName>
          <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
            <IsFolder>false</IsFolder>
            <Id>0</Id>
            <IsNewRecord>false</IsNewRecord>
            <Name>Template</Name>
            <Description />
            <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
            <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
            <IsSharedLayout>false</IsSharedLayout>
            <LayoutBuildingOptions>
              <RecordType>Record</RecordType>
              <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
              <LayoutBuildingProcess>Default</LayoutBuildingProcess>
            </LayoutBuildingOptions>
            <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
            <Fields />
            <Children />
            <Referenced />
            <ValidationRules />
            <IsReadOnly>false</IsReadOnly>
          </Layout>
        </Template>
      </AiFlowItemDataEnd>
    </FlowDocumentItemAction>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>35dc6c4b-aafb-482c-9cf0-29e1c0395501</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>35dc6c4b-aafb-482c-9cf0-29e1c0395501</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiAgentState</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>39</Height>
            <Width>110</Width>
            <X>935.1017</X>
            <Y>68.37003</Y>
            <IsExpanded>false</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>Properties</Name>
      </ActionProperties>
      <AiFlowItemDataState>
        <Name>Properties</Name>
        <IsShared>false</IsShared>
        <PythonCode>def build_prompt(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; TemplateParams : &#xD;
    return TemplateParams()</PythonCode>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>Properties</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced>
            <BaseLayout xsi:type="RecordLayout" IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Input</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </BaseLayout>
            <BaseLayout xsi:type="RecordLayout" IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Output</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </BaseLayout>
            <BaseLayout xsi:type="RecordLayout" IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>State</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </BaseLayout>
          </Referenced>
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>Properties</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced>
            <BaseLayout xsi:type="RecordLayout" IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Input</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </BaseLayout>
            <BaseLayout xsi:type="RecordLayout" IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Output</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </BaseLayout>
            <BaseLayout xsi:type="RecordLayout" IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>State</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </BaseLayout>
          </Referenced>
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </Layout>
        <Template>
          <DocumentDescription />
          <SystemPrompt>You are a helpful AI assistant. Always provide clear, accurate, and helpful responses to user queries.</SystemPrompt>
          <UserPrompt />
          <UserPromptTemplateName />
          <TemplateType>Template</TemplateType>
          <UseClusterMasterPrompt>false</UseClusterMasterPrompt>
          <Llm>
            <Id>bb014faf-cfbd-4d34-9e36-1348e01daf8c</Id>
            <StreamResponseToUser>false</StreamResponseToUser>
            <ReturnsStructuredOutput>false</ReturnsStructuredOutput>
            <OutputLayout IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Template</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </OutputLayout>
            <WorkingMemoryContextWindow>50</WorkingMemoryContextWindow>
            <MaxAgentCallDepth>5</MaxAgentCallDepth>
            <Name>CompletionLlm</Name>
            <Parameters>
              <Temperature>0.5</Temperature>
              <TopP>1</TopP>
              <MaxTokens>4096</MaxTokens>
              <Timeout>120</Timeout>
            </Parameters>
            <Memory>
              <IncludeUserContext>false</IncludeUserContext>
              <IncludeWorkingMemory>false</IncludeWorkingMemory>
              <IncludeParentsContext>false</IncludeParentsContext>
              <IncludeAncestralContext>false</IncludeAncestralContext>
              <LimitToolCallsInContext>false</LimitToolCallsInContext>
              <ToolCallLimit>10</ToolCallLimit>
            </Memory>
          </Llm>
          <FilePath />
          <Name>Template</Name>
          <Text>You are a helpful AI assistant designed to provide accurate and informative responses. You should be professional, friendly, and concise in your communications.</Text>
          <CanTemplateBeEmpty>true</CanTemplateBeEmpty>
          <Functions />
          <ReturnVariable>result</ReturnVariable>
          <PythonMethodName>run</PythonMethodName>
          <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
            <IsFolder>false</IsFolder>
            <Id>0</Id>
            <IsNewRecord>false</IsNewRecord>
            <Name>Template</Name>
            <Description />
            <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
            <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
            <IsSharedLayout>false</IsSharedLayout>
            <LayoutBuildingOptions>
              <RecordType>Record</RecordType>
              <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
              <LayoutBuildingProcess>Default</LayoutBuildingProcess>
            </LayoutBuildingOptions>
            <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
            <Fields />
            <Children />
            <Referenced />
            <ValidationRules />
            <IsReadOnly>false</IsReadOnly>
          </Layout>
        </Template>
        <MasterPrompt />
        <EnableMasterPrompt>false</EnableMasterPrompt>
      </AiFlowItemDataState>
    </FlowDocumentItemAction>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>56f489e9-684e-49c6-8b0c-a96b1f3992c5</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>56f489e9-684e-49c6-8b0c-a96b1f3992c5</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiUserInput</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>39</Height>
            <Width>110</Width>
            <X>-148.05789</X>
            <Y>100.56171</Y>
            <IsExpanded>false</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>InputMessage</Name>
      </ActionProperties>
      <AiFlowItemDataUserInput>
        <Name>InputMessage</Name>
        <IsShared>false</IsShared>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>InputMessage</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="Message">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>8b923e02-0e48-4593-9a78-5d82851b3477</UniqueId>
              <CoreDbType>NVarChar</CoreDbType>
              <DbDataTypeName />
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>InputMessage</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="Message">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>8b923e02-0e48-4593-9a78-5d82851b3477</UniqueId>
              <CoreDbType>NVarChar</CoreDbType>
              <DbDataTypeName />
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </Layout>
      </AiFlowItemDataUserInput>
    </FlowDocumentItemAction>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>62445365-24ee-4729-ab37-371ccfa1fa5d</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>62445365-24ee-4729-ab37-371ccfa1fa5d</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiLlmCall</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>39</Height>
            <Width>110</Width>
            <X>389.45447</X>
            <Y>111.33531</Y>
            <IsExpanded>false</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>LlmCall</Name>
      </ActionProperties>
      <AiFlowItemDataLlmCall>
        <Name>LlmCall</Name>
        <IsShared>false</IsShared>
        <PythonCode>import requests&#xD;
&#xD;
def build_prompt(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; TemplateParams :&#xD;
    # User input (e.g., XAU)&#xD;
    symbol = agent_context.State.InputMessage.Message.upper().strip()&#xD;
    &#xD;
    # Gold API URL&#xD;
    url = f"https://api.gold-api.com/price/{symbol}"&#xD;
    &#xD;
    try:&#xD;
        response = requests.get(url, timeout=10)&#xD;
        if response.status_code == 200:&#xD;
            price_data = response.text # Raw JSON data&#xD;
        else:&#xD;
            price_data = f"Error: API returned status {response.status_code}"&#xD;
    except Exception as e:&#xD;
        price_data = f"Connection Error: {str(e)}"&#xD;
    &#xD;
    return TemplateParams(symbol, price_data)</PythonCode>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>LlmCall</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="LlmName">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>dfe94dc8-bdc0-4ecf-91f3-e339194efcb3</UniqueId>
              <CoreDbType>Unsupported</CoreDbType>
              <DecimalLength>0</DecimalLength>
            </RecordField>
            <RecordField DataType="String" Index="1" Name="Prompt">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>958ab317-f7ae-4848-a206-625e9bce99ee</UniqueId>
              <CoreDbType>Unsupported</CoreDbType>
              <DecimalLength>0</DecimalLength>
            </RecordField>
            <RecordField DataType="String" Index="2" Name="Response">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>52cc6c10-544b-478a-ba8e-047f48963638</UniqueId>
              <CoreDbType>Unsupported</CoreDbType>
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>LlmCall</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="LlmName">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>dfe94dc8-bdc0-4ecf-91f3-e339194efcb3</UniqueId>
              <CoreDbType>Unsupported</CoreDbType>
              <DecimalLength>0</DecimalLength>
            </RecordField>
            <RecordField DataType="String" Index="1" Name="Prompt">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>958ab317-f7ae-4848-a206-625e9bce99ee</UniqueId>
              <CoreDbType>Unsupported</CoreDbType>
              <DecimalLength>0</DecimalLength>
            </RecordField>
            <RecordField DataType="String" Index="2" Name="Response">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>52cc6c10-544b-478a-ba8e-047f48963638</UniqueId>
              <CoreDbType>Unsupported</CoreDbType>
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </Layout>
        <Template>
          <DocumentDescription />
          <SystemPrompt />
          <UserPrompt />
          <UserPromptTemplateName />
          <TemplateType>Template</TemplateType>
          <UseClusterMasterPrompt>false</UseClusterMasterPrompt>
          <Llm>
            <Id>ed73d20c-3766-409b-89ee-b80966eaff12</Id>
            <StreamResponseToUser>false</StreamResponseToUser>
            <ReturnsStructuredOutput>false</ReturnsStructuredOutput>
            <OutputLayout IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Template</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </OutputLayout>
            <WorkingMemoryContextWindow>50</WorkingMemoryContextWindow>
            <MaxAgentCallDepth>5</MaxAgentCallDepth>
            <Name>GenerationLlm</Name>
            <Parameters>
              <Temperature>0.5</Temperature>
              <TopP>1</TopP>
              <MaxTokens>4096</MaxTokens>
              <Timeout>120</Timeout>
            </Parameters>
            <Memory>
              <IncludeUserContext>false</IncludeUserContext>
              <IncludeWorkingMemory>false</IncludeWorkingMemory>
              <IncludeParentsContext>false</IncludeParentsContext>
              <IncludeAncestralContext>false</IncludeAncestralContext>
              <LimitToolCallsInContext>false</LimitToolCallsInContext>
              <ToolCallLimit>10</ToolCallLimit>
            </Memory>
          </Llm>
          <FilePath />
          <Name>Template</Name>
          <Text>System: You are a Precious Metals Analyst. You receive live price data and must provide a concise market update.&#xD;
&#xD;
Asset Symbol: {symbol} Live API Data: {price_data}&#xD;
&#xD;
Tasks:&#xD;
&#xD;
Extract the current price and currency.&#xD;
&#xD;
Create a small table showing the "Spot Price" and "Last Updated" timestamp.&#xD;
&#xD;
Provide a brief "Market Insight" (e.g., if price is high, mention it as a safe-haven asset).&#xD;
&#xD;
Ensure the output is formatted in clean Markdown.</Text>
          <CanTemplateBeEmpty>false</CanTemplateBeEmpty>
          <Functions />
          <ErrorInfo>
            <IsAPIException>false</IsAPIException>
            <StatusCode>500</StatusCode>
            <IsCPException>false</IsCPException>
            <IsUnhandledException>false</IsUnhandledException>
            <IsCrash>false</IsCrash>
            <Message>Parameter name cannot be empty. Position Line 2, Column 37</Message>
            <ProductVersion>12.1.0.744</ProductVersion>
            <OSVersion>Microsoft Windows NT 10.0.26100.0</OSVersion>
            <DbConnectionTimeout>-1</DbConnectionTimeout>
            <DbCommandTimeout>-1</DbCommandTimeout>
          </ErrorInfo>
          <ReturnVariable>result</ReturnVariable>
          <PythonMethodName>run</PythonMethodName>
          <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
            <IsFolder>false</IsFolder>
            <Id>0</Id>
            <IsNewRecord>false</IsNewRecord>
            <Name>Template</Name>
            <Description />
            <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
            <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
            <IsSharedLayout>false</IsSharedLayout>
            <LayoutBuildingOptions>
              <RecordType>Record</RecordType>
              <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
              <LayoutBuildingProcess>Default</LayoutBuildingProcess>
            </LayoutBuildingOptions>
            <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
            <Fields />
            <Children />
            <Referenced />
            <ValidationRules />
            <IsReadOnly>false</IsReadOnly>
          </Layout>
        </Template>
        <FilePathReferences />
        <LlmName>GenerationLlm</LlmName>
        <StreamResponseToUser>false</StreamResponseToUser>
      </AiFlowItemDataLlmCall>
    </FlowDocumentItemAction>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>8754384a-c590-4561-981c-4f7c02b79aac</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>8754384a-c590-4561-981c-4f7c02b79aac</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiUserOutput</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>39</Height>
            <Width>110</Width>
            <X>627.7235</X>
            <Y>108.459175</Y>
            <IsExpanded>false</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>OutputMessage</Name>
      </ActionProperties>
      <AiFlowItemDataUserOutput>
        <Name>OutputMessage</Name>
        <IsShared>false</IsShared>
        <PythonCode>def build_message(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; TemplateParams :  &#xD;
&#xD;
    OutputMessage = agent_context.State.LlmCall.Response&#xD;
&#xD;
    return TemplateParams(OutputMessage) </PythonCode>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>OutputMessage</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="Message">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>a134df73-869c-41d9-a91a-14f2fc784b22</UniqueId>
              <CoreDbType>NVarChar</CoreDbType>
              <DbDataTypeName />
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>OutputMessage</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="Message">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>a134df73-869c-41d9-a91a-14f2fc784b22</UniqueId>
              <CoreDbType>NVarChar</CoreDbType>
              <DbDataTypeName />
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </Layout>
        <Template>
          <DocumentDescription />
          <SystemPrompt />
          <UserPrompt />
          <UserPromptTemplateName />
          <TemplateType>Template</TemplateType>
          <UseClusterMasterPrompt>false</UseClusterMasterPrompt>
          <Llm>
            <Id>3ae7eea4-a19d-4204-9183-a37c1c4d3d81</Id>
            <StreamResponseToUser>false</StreamResponseToUser>
            <ReturnsStructuredOutput>false</ReturnsStructuredOutput>
            <OutputLayout IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Template</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </OutputLayout>
            <WorkingMemoryContextWindow>50</WorkingMemoryContextWindow>
            <MaxAgentCallDepth>5</MaxAgentCallDepth>
            <Name>CompletionLlm</Name>
            <Parameters>
              <Temperature>0.5</Temperature>
              <TopP>1</TopP>
              <MaxTokens>4096</MaxTokens>
              <Timeout>120</Timeout>
            </Parameters>
            <Memory>
              <IncludeUserContext>false</IncludeUserContext>
              <IncludeWorkingMemory>false</IncludeWorkingMemory>
              <IncludeParentsContext>false</IncludeParentsContext>
              <IncludeAncestralContext>false</IncludeAncestralContext>
              <LimitToolCallsInContext>false</LimitToolCallsInContext>
              <ToolCallLimit>10</ToolCallLimit>
            </Memory>
          </Llm>
          <FilePath />
          <Name>Template</Name>
          <Text>Agent Output: &#xD;
&#xD;
{OutputMessage} </Text>
          <CanTemplateBeEmpty>false</CanTemplateBeEmpty>
          <Functions />
          <ReturnVariable>result</ReturnVariable>
          <PythonMethodName>run</PythonMethodName>
          <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
            <IsFolder>false</IsFolder>
            <Id>0</Id>
            <IsNewRecord>false</IsNewRecord>
            <Name>Template</Name>
            <Description />
            <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
            <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
            <IsSharedLayout>false</IsSharedLayout>
            <LayoutBuildingOptions>
              <RecordType>Record</RecordType>
              <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
              <LayoutBuildingProcess>Default</LayoutBuildingProcess>
            </LayoutBuildingOptions>
            <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
            <Fields />
            <Children />
            <Referenced />
            <ValidationRules />
            <IsReadOnly>false</IsReadOnly>
          </Layout>
        </Template>
      </AiFlowItemDataUserOutput>
    </FlowDocumentItemAction>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>8984428b-7226-4306-b66e-f9ca6f010648</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>8984428b-7226-4306-b66e-f9ca6f010648</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiUserOutput</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>200</Height>
            <Width>200</Width>
            <X>-159.15202</X>
            <Y>375.1664</Y>
            <IsExpanded>false</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>OutputMessage1</Name>
      </ActionProperties>
      <AiFlowItemDataUserOutput>
        <Name>OutputMessage1</Name>
        <IsShared>false</IsShared>
        <PythonCode>def build_message(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; TemplateParams :  &#xD;
&#xD;
    return TemplateParams() </PythonCode>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>OutputMessage1</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="Message">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>b20e1e6b-760f-40ef-b262-4dbac0699ae8</UniqueId>
              <CoreDbType>NVarChar</CoreDbType>
              <DbDataTypeName />
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>OutputMessage1</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields>
            <RecordField DataType="String" Index="0" Name="Message">
              <AggregateFunction>Last</AggregateFunction>
              <DbProviderType>SqlServer</DbProviderType>
              <UniqueId>b20e1e6b-760f-40ef-b262-4dbac0699ae8</UniqueId>
              <CoreDbType>NVarChar</CoreDbType>
              <DbDataTypeName />
              <DecimalLength>0</DecimalLength>
            </RecordField>
          </Fields>
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>true</IsReadOnly>
        </Layout>
        <Template>
          <DocumentDescription />
          <SystemPrompt />
          <UserPrompt />
          <UserPromptTemplateName />
          <TemplateType>Template</TemplateType>
          <UseClusterMasterPrompt>false</UseClusterMasterPrompt>
          <Llm>
            <Id>e1a1755f-a6d2-4ae7-8d62-8bb84f5c5baa</Id>
            <StreamResponseToUser>false</StreamResponseToUser>
            <ReturnsStructuredOutput>false</ReturnsStructuredOutput>
            <OutputLayout IsHierarchicalFile="false">
              <IsFolder>false</IsFolder>
              <Id>0</Id>
              <IsNewRecord>false</IsNewRecord>
              <Name>Template</Name>
              <Description />
              <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
              <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
              <IsSharedLayout>false</IsSharedLayout>
              <LayoutBuildingOptions>
                <RecordType>Record</RecordType>
                <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
                <LayoutBuildingProcess>Default</LayoutBuildingProcess>
              </LayoutBuildingOptions>
              <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
              <Fields />
              <Children />
              <Referenced />
              <ValidationRules />
              <IsReadOnly>false</IsReadOnly>
            </OutputLayout>
            <WorkingMemoryContextWindow>50</WorkingMemoryContextWindow>
            <MaxAgentCallDepth>5</MaxAgentCallDepth>
            <Name>CompletionLlm</Name>
            <Parameters>
              <Temperature>0.5</Temperature>
              <TopP>1</TopP>
              <MaxTokens>4096</MaxTokens>
              <Timeout>120</Timeout>
            </Parameters>
            <Memory>
              <IncludeUserContext>false</IncludeUserContext>
              <IncludeWorkingMemory>false</IncludeWorkingMemory>
              <IncludeParentsContext>false</IncludeParentsContext>
              <IncludeAncestralContext>false</IncludeAncestralContext>
              <LimitToolCallsInContext>false</LimitToolCallsInContext>
              <ToolCallLimit>10</ToolCallLimit>
            </Memory>
          </Llm>
          <FilePath />
          <Name>Template</Name>
          <Text>It looks like the input format was incorrect. Please try again and enter a valid command to proceed.</Text>
          <CanTemplateBeEmpty>false</CanTemplateBeEmpty>
          <Functions />
          <ReturnVariable>result</ReturnVariable>
          <PythonMethodName>run</PythonMethodName>
          <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
            <IsFolder>false</IsFolder>
            <Id>0</Id>
            <IsNewRecord>false</IsNewRecord>
            <Name>Template</Name>
            <Description />
            <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
            <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
            <IsSharedLayout>false</IsSharedLayout>
            <LayoutBuildingOptions>
              <RecordType>Record</RecordType>
              <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
              <LayoutBuildingProcess>Default</LayoutBuildingProcess>
            </LayoutBuildingOptions>
            <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
            <Fields />
            <Children />
            <Referenced />
            <ValidationRules />
            <IsReadOnly>false</IsReadOnly>
          </Layout>
        </Template>
      </AiFlowItemDataUserOutput>
    </FlowDocumentItemAction>
    <FlowDocumentItemAction>
      <ActionProperties>
        <UniqueId>fddea4ff-a9c2-4ebc-8a9d-c0a4a1e64614</UniqueId>
        <DocumentItemData>
          <SharingConnection>false</SharingConnection>
          <ShareConnectionInstanceAmongDestinations>false</ShareConnectionInstanceAmongDestinations>
        </DocumentItemData>
        <ActionId>fddea4ff-a9c2-4ebc-8a9d-c0a4a1e64614</ActionId>
        <SharedItemPath>
          <Path />
          <UncPath />
        </SharedItemPath>
        <ActionTemplateName>AiCondition</ActionTemplateName>
        <NodeBounds>
          <NormalBounds>
            <Height>39</Height>
            <Width>240</Width>
            <X>45.036903</X>
            <Y>33.21458</Y>
            <IsExpanded>true</IsExpanded>
            <ActualExpandedHeight>0</ActualExpandedHeight>
            <IsSorted>false</IsSorted>
          </NormalBounds>
        </NodeBounds>
        <IsSkip>false</IsSkip>
        <IsHidden>false</IsHidden>
        <SourceActionRole>Normal</SourceActionRole>
        <DoNotPushdown>false</DoNotPushdown>
        <Name>Condition</Name>
      </ActionProperties>
      <AiFlowItemDataCondition>
        <Name>Condition</Name>
        <IsShared>false</IsShared>
        <PythonCode>def run(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; str : 
    return ""</PythonCode>
        <ReturnVariable>result</ReturnVariable>
        <StateLayout IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>Condition</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>false</IsReadOnly>
        </StateLayout>
        <Layout xsi:type="RecordLayout" IsHierarchicalFile="false">
          <IsFolder>false</IsFolder>
          <Id>0</Id>
          <IsNewRecord>false</IsNewRecord>
          <Name>Condition</Name>
          <Description />
          <CreateDtTm>0001-01-01T00:00:00</CreateDtTm>
          <UpdateDtTm>0001-01-01T00:00:00</UpdateDtTm>
          <IsSharedLayout>false</IsSharedLayout>
          <LayoutBuildingOptions>
            <RecordType>Record</RecordType>
            <LayoutBuildingDefaultMode>SourceDefault</LayoutBuildingDefaultMode>
            <LayoutBuildingProcess>Default</LayoutBuildingProcess>
          </LayoutBuildingOptions>
          <SuppressLayoutBuilding>false</SuppressLayoutBuilding>
          <Fields />
          <Children />
          <Referenced />
          <ValidationRules />
          <IsReadOnly>false</IsReadOnly>
        </Layout>
        <Conditions>
          <AiConditionExpression>
            <Name>Condition 1</Name>
            <IsElse>false</IsElse>
            <PythonCode>def Condition_1(agent_context : AiAgentContext, data_context : AiDataContext) -&gt; bool :&#xD;
    # Method 1: Direct property access (Most likely to work in Atomis)&#xD;
    try:&#xD;
        user_input = agent_context.State.InputMessage.Message.strip().upper()&#xD;
    except:&#xD;
        # Method 2: Fallback to Variable access if dictionary fails&#xD;
        user_input = agent_context.State.InputMessage.Message.strip().upper()&#xD;
    &#xD;
    valid_tickers = ["XAU", "XAG", "XPT", "XPD"]&#xD;
    &#xD;
    if user_input in valid_tickers:&#xD;
        return True&#xD;
        &#xD;
    return False</PythonCode>
            <CondtionMethodName>Condition 1</CondtionMethodName>
            <ReturnVariable />
          </AiConditionExpression>
        </Conditions>
        <OutgoingLinks>
          <string>Condition 1</string>
        </OutgoingLinks>
      </AiFlowItemDataCondition>
    </FlowDocumentItemAction>
  </Actions>
  <Links>
    <FlowDocumentItemLink>
      <UniqueId>c28ab2b2-d027-4503-a03e-16a213778112</UniqueId>
      <Start>Start</Start>
      <End>InputMessage</End>
      <LinkType>Normal</LinkType>
    </FlowDocumentItemLink>
    <FlowDocumentItemLink>
      <UniqueId>04b0d3b9-2d69-4bd1-8828-c02dc284f3d2</UniqueId>
      <Start>LlmCall</Start>
      <End>OutputMessage</End>
      <LinkType>Normal</LinkType>
    </FlowDocumentItemLink>
    <FlowDocumentItemLink>
      <UniqueId>86cc3c77-ace5-4229-821a-4ff5f476807d</UniqueId>
      <Start>InputMessage</Start>
      <End>Condition</End>
      <IncomingLink />
      <LinkType>Normal</LinkType>
    </FlowDocumentItemLink>
    <FlowDocumentItemLink>
      <UniqueId>42451e11-4862-4bf8-88e9-740af78f9e52</UniqueId>
      <Start>Condition</Start>
      <End>LlmCall</End>
      <Condition>Condition 1</Condition>
      <LinkType>Normal</LinkType>
    </FlowDocumentItemLink>
    <FlowDocumentItemLink>
      <UniqueId>b533e8c9-9ae2-4750-8513-76340f20f0ba</UniqueId>
      <Start>Condition</Start>
      <End>OutputMessage1</End>
      <Condition>Default</Condition>
      <LinkType>Normal</LinkType>
    </FlowDocumentItemLink>
    <FlowDocumentItemLink>
      <UniqueId>4ead8c81-b051-4d10-943f-95b128bf4d04</UniqueId>
      <Start>OutputMessage1</Start>
      <End>InputMessage</End>
      <LinkType>Normal</LinkType>
    </FlowDocumentItemLink>
    <FlowDocumentItemLink>
      <UniqueId>3df0ed2c-05b5-4f06-af2f-9a73945da70b</UniqueId>
      <Start>OutputMessage</Start>
      <End>End</End>
      <LinkType>Normal</LinkType>
    </FlowDocumentItemLink>
  </Links>
  <Maps />
  <Relationships />
  <VisualInfo>
    <UniqueId>4be5c4cd-402d-4aaf-9693-bd6370ebb0ff</UniqueId>
    <Actions />
    <DocumentBounds>
      <Item1>-419.3509826660156</Item1>
      <Item2>33.21458053588867</Item2>
      <Item3>1464.45263671875</Item3>
      <Item4>446.95184326171875</Item4>
    </DocumentBounds>
    <DocumentPosition>
      <Item1>0</Item1>
      <Item2>0</Item2>
    </DocumentPosition>
    <DocumentScale>0.7106813</DocumentScale>
    <IsSelected>false</IsSelected>
    <MappingMode>Data</MappingMode>
    <UseMessages>false</UseMessages>
    <UseOrthogonalLinks>false</UseOrthogonalLinks>
  </VisualInfo>
  <DocumentDescription>&lt;Description&gt;</DocumentDescription>
</AiFlowDocument>